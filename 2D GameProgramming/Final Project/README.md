# Final Project

### 1. 게임의 소개
- **게임 제목 :** Mario Escape
- **Copy한 게임 제목 :** Beer Monster
- **Copy한 게임 스크린샷 :**  
![Beer Monster1](https://user-images.githubusercontent.com/70697461/94151795-ca03be00-feb5-11ea-9946-f2fcbed98a10.GIF)
![Beer Monster2](https://user-images.githubusercontent.com/70697461/94151428-5d88bf00-feb5-11ea-87e6-5f09f57e73af.GIF)
- **게임의 목적 :** 장애물을 피해 여러 맵에 흩어져 있는 열쇠를 모아 방을 탈출하는 게임이다.
- **게임의 방법 :** 키보드의 방향키로 캐릭터를 움직일 수 있으며 SPACE로 점프를 할 수 있다.
  
<br/>

### 2. GameState (Scene)의 수 및 각각의 이름
- 8개
- Logo State → Title State → Game State(Stage1 ~ Stage4) → Game Stage(Stage5) → Ending State
  
<br/>

### 3. GameState 별 다음 항목
- **한줄짜리 설명**
	- **로고 스테이트 :** KPU 로고를 화면에 1초동안 띄우는 씬
	- **타이틀 스테이트 :** 메뉴(게임시작, 조작법, 게임종료)를 선택할 수 있는 씬
	- **게임 스테이트(탈출맵1 ~ 탈출맵4) :** 여러 장애물(가시, 레이저, 몬스터 등)와 낭떠러지를 가지고 있는 탈출맵 씬
	- **히든 스테이트 :** 탈출맵 씬과 유사하지만 특정 조건을 통해 넘어올 수 있는 씬
	- **엔딩 스테이트 :** Clear 메세지와 함께 게임을 마무리하는 씬

- **화면에 표시할 객체들의 목록**
	- **로고 스테이트 :** 없음
	- **타이틀 스테이트 :** 없음
	- **게임 스테이트 :** 캐릭터, 장애물(가시, 레이저), 몬스터, 열쇠 등
	- **히든 스테이트 :** 아이템
	- **엔딩 스테이트 :** 없음

- **처리할 키/마우스 등 이벤트**
	- 키보드의 방향키로 캐릭터를 좌, 우, 상, 하로 움직이고 SPACE로 캐릭터가 점프하도록 한다.  
	- 마우스 왼쪽 클릭으로 게임의 UI를 클릭하거나, 숨겨진 무언가를 찾도록 한다.

- **다른 State로 이동한다면, 각 이동에 대한 조건 및 방법**  
![State 간의 이동](https://user-images.githubusercontent.com/70697461/101239411-b59c3700-372a-11eb-803b-9b054b48acee.GIF)
	- 로고 스테이트는 1초 뒤 자동으로 타이틀 스테이트로 넘어간다.  
	- 타이틀 스테이트에서 '게임시작'을 버튼을 누르면 게임 스테이트(탈출맵 1)로 넘어간다.  
	- 모든 게임 스테이트는 연결되어 있으므로 캐릭터가 화면상의 좌측끝 또는 우측끝으로 가게되면 탈출맵의 전 후로 이동한다.  
	- 단, 탈출맵 1에서는 좌측끝으로 이동해도 아무런 변화가 없다.  
	- 탈출맵 3에서 마우스를 이용하여 특정 좌표를 클릭하게되면 사다리가 생기게 된다. 캐릭터가 이 사다리를 타고 올라가면 히든 스테이트로 전환한다.  
	- 다시 사다리를 타고 내려오면 탈출맵 3으로 전환한다.  
	- 탈출맵 4에서 목적지에 도착하게되면 엔딩 스테이트로 넘어가게 된다.  
	- 로고 스테이트와 타이틀 스테이트를 제외한 모든 스테이트에서 ESC를 누르면 타이틀 스테이트로 돌아간다.  
	- (가능하다면 옵션 UI를 만들어서 '타이틀 화면'이라는 메뉴로 돌아가게 해볼려고 한다.)

<br/>

### 4. 필요한 기술
- **다른 과목에서 배운 기술**
	- 2차원에서 물체의 충돌체크, 객체의 상태변화에 따른 애니메이션 변화

- **이 과목에서 배울 것으로 기대되는 기술**
	- 간단한 물리법칙(중력)을 통한 자연스러운 점프구현

- **다루지 않는 것 같아서 수업에 다루어 달라고 요청할 기술 (이 항목은 과제 본문에도 적어 낸다)**
	- 전체 맵이 화면에 모두 출력되는 것이 아니라 캐릭터를 중심으로 일정 거리만을 화면에 출력하여 카메라가 캐릭터를 따라 움직이는 기술
	- 특정 키를 지정하여 카메라를 이동시켜 맵 전체를 훑어볼 수 있는 기술  
	- 객체 간 충돌시 일정시간동안 반투명상태가 되는 것을 반복하며 깜빡거리게 하는 기술  
	- 배경음이 기본적으로 깔리고 어떤 조건마다 예를들어 객체 간 충돌시 비명을 내어 동시에 소리가 나오게 하는 기술 
	- 옵션 버튼 같은 메뉴를 생성하여 클릭시 작은 메뉴화면이 나오도록 하는 기술

<br/>

### 5. 게임 컨셉(High Concept 및 핵심 메카닉을 명확히 제시)
- 이 게임은 대부분 알고 있는 마리오 게임을 변형하여 목표지점에 도착하면 클리어 하는 것이 아닌 필드 위에 존재하는 모든 코인을 획득하고 탈출하여 클리어 하는 게임으로 기존과는 다른 개념의 게임입니다.  기존에 존재하는 ‘Beer monster’라는 게임을 어느정도 참고 하였습니다.  
- 총 4개의 게임 스테이트가 있으며 특정 스테이트에서 어떤 조건을 만족하면 히든 스테이트로 진입할 수 있습니다.
- 게임 스테이트 간 이동은 자유롭다.  
- 게임을 클리어 하기 위해서는 모든 스테이트에 존재하는 코인을 획득해야 한다.  
- 플레이어는 게임시작 시 3개의 생명을 갖고 시작한다.  
- 각각의 게임 스테이트에는 장애물과 상자들이 존재하며 장애물과 충돌 시에는 생명이 1개씩 감소한다.  
- 조작키 : 방향키(상하좌우) – 이동, 스페이스 바 - 점프  

<br/>

### 6. 개발 범위(개발 주요 요소를 정량적으로 제시)
![개발 범위](https://user-images.githubusercontent.com/70697461/101239694-fbf29580-372c-11eb-8ca6-f3638945acf7.GIF)

<br/>

### 7. 예상 게임 실행 흐름
![흐름1](https://user-images.githubusercontent.com/70697461/95468809-d873ce80-09b9-11eb-8a75-991ed8c01671.GIF)
![흐름2](https://user-images.githubusercontent.com/70697461/95468795-d6117480-09b9-11eb-96c1-ad00f8e6ff72.GIF)
![흐름3](https://user-images.githubusercontent.com/70697461/95468807-d7db3800-09b9-11eb-85b2-937f8395102a.GIF)

<br/>

### 8. 개발 흐름
|**주차**|**업무**|
|:---:|:-------:|
|1주차|리소스 수집, 로고 스테이트, 타이틀 스테이트 설정|
|2주차|플레이어 객체 설정, 플레이어 움직임, 애니메이션 구현|
|3주차|게임 스테이트 1, 2의 모든 객체 설정 및 애니메이션 구현|
|4주차|게임 스테이트 3, 4의 모든 객체 설정 및 애니메이션 구현|
|5주차|히든 스테이트의 모든 객체 설정 및 애니메이션 구현|
|6주차|객체간 충돌체크 및 상호작용 이벤트 설정|
|7주차|주차 계획대로 진행되지 않는 것을 대비하여 부족한 부분에 시간 투자|
|8주차|최종 점검 및 버그 수정|

<br/>

### 9. 게임에 대한 간단한 소개
![게임 소개](https://user-images.githubusercontent.com/70697461/99901836-f47ac780-2cfc-11eb-8372-375ac3fad0a4.GIF)

<br/>

### 10. 현재까지의 진행 상황
![진행 상황](https://user-images.githubusercontent.com/70697461/99901849-05c3d400-2cfd-11eb-9d21-c30ab7532296.GIF)

<br/>

### 11. Git commit을 얼마나 자주 했는지 알 수 있는 자료
![Commit](https://user-images.githubusercontent.com/70697461/99901870-1c6a2b00-2cfd-11eb-8091-2643258f93f0.GIF)

<br/>

### 12. Main GameState에 등장하는 GameObject들에 대하여 다음 사항 포함
- **class 구성 정보(그림 구성, 동작 구성 등)**
- **상호작용 정보**
- **게임 내에서 이 class가 책임지는 핵심 코드에 대한 간단한 설명**
![State 구성1](https://user-images.githubusercontent.com/70697461/99901910-65ba7a80-2cfd-11eb-97a4-1d93574a5962.GIF)
![State 구성2](https://user-images.githubusercontent.com/70697461/99901912-67843e00-2cfd-11eb-925c-9830120130f5.GIF)
![State 구성3](https://user-images.githubusercontent.com/70697461/99901915-68b56b00-2cfd-11eb-9e1b-617e26f48b5b.GIF)
![State 구성4](https://user-images.githubusercontent.com/70697461/99901916-69e69800-2cfd-11eb-991e-c2fb81b2d1e4.GIF)
![State 구성5](https://user-images.githubusercontent.com/70697461/99901917-6a7f2e80-2cfd-11eb-8b08-889e519809cc.GIF)
![State 구성6](https://user-images.githubusercontent.com/70697461/99901918-6bb05b80-2cfd-11eb-9d7c-021d31d5c10f.GIF)
![State 구성7](https://user-images.githubusercontent.com/70697461/99901920-6ce18880-2cfd-11eb-8dcc-3e86f17e5994.GIF)

<br/>

### 13. 구현하면서 특히 어려웠던/어려운 부분, 수업에서 추가로 다루었으면 하는 것
- 모듈끼리 서로 양쪽으로 import하지 않도록 데이터를 관리하는 스킬(?)
- 사다리 구현(KEY_DOWN, KEY_UP과 관련한 문제) 및 캐릭터의 상, 하, 좌, 우 자연스러운 이동
- Visual Studio로 Python을 구현하다보면 2000MB이상의 메모리를 잡아먹을 때가 있는데 메모리 누수를 확인하는 방법
- JSON으로 GameWorld의 objects 리스트에 객체들을 넣었는데 이 때, State간 다르게 설정하기 위해서 stage별 objects list를 만들었는데 이 방법의 문제점과 좋은 개선 방향

<br/>

### 14. 모든 발표 영상에 대한 Youtube 링크
- Term Project 1차 발표 영상 링크 : https://youtu.be/pMdlrKNOnIM
- Term Project 2차 발표 영상 링크 : https://youtu.be/py7v2NzSChs
- Term Project 최종 발표 영상 링크 : https://youtu.be/3bP-juGCz9s

<br/>

### 15. 항목별 계획 대비 진행 사항
![진행 사항](https://user-images.githubusercontent.com/70697461/101239521-5f7bc380-372b-11eb-97dd-257f5439c059.GIF)

<br/>

### 16. 주차별 Commit 횟수
![Git Commits](https://user-images.githubusercontent.com/70697461/101239530-75898400-372b-11eb-9f8a-917ae5dcbe05.GIF)

<br/>

### 17. 게임 플레이 영상, 지인 플레이 영상, 지인 인터뷰 영상
- Term Project 최종 발표 영상 또는 Term Project_Final Presentation.pptx에 있습니다.

<br/>

### 18. 게임에 대한 지인의 평가 및 버그처리
![평가](https://user-images.githubusercontent.com/70697461/101239563-a8337c80-372b-11eb-862d-700a4df1d0fc.GIF)
![버그처리](https://user-images.githubusercontent.com/70697461/101239555-a23d9b80-372b-11eb-8542-3277dad6b9ef.GIF)

<br/>

### 19. 기말 프로젝트를 하면서 겪은 어려움에 대해 소개
- 어려운 것은 무궁무진했지만, 이보다도 게임을 재밌게 만들기 위한 아이디어와 그렇게 생각해 낸 것을 구현해내지 못한 나의 코딩실력이 아쉬웠다. 또한 코드를 리뷰하면서 다형성을 구현하지 못해서 분기한 것, name을 사용하여 문자열을 레이어 인덱스의 객체와 비교한 것, 스테이지를 스크롤로 만들지 못하고 object_list를 바꿔치기 해서 구현한 것이 다 만들고 보니 많이 아쉽게 느껴졌다.

<br/>

**[KPU] 2D GameProgramming**